# ğŸ¤ è´¡çŒ®æŒ‡å—ä¸å¼€å‘æµç¨‹ (Development Workflow)

æ¬¢è¿å‚ä¸é¡¹ç›®å¼€å‘ï¼ä¸ºäº†ä¿è¯ä»£ç è´¨é‡å’Œå‘å¸ƒæµç¨‹çš„ç¨³å®šæ€§ï¼Œæˆ‘ä»¬åˆ¶å®šäº†ä»¥ä¸‹ CI/CD æµæ°´çº¿å’Œå¼€å‘è§„èŒƒã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. åˆå§‹åŒ– Husky (Git Hooks)
pnpm prepare

# 3. å¯åŠ¨æœ¬åœ°å¼€å‘
pnpm dev
```

---

## ğŸ”„ å¼€å‘æµæ°´çº¿ (Pipeline Overview)

æˆ‘ä»¬çš„è‡ªåŠ¨åŒ–æµç¨‹åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œå±‚å±‚é€’è¿›ä»¥ç¡®ä¿è´¨é‡ã€‚

### 1. ğŸ’» æœ¬åœ°å¼€å‘é˜¶æ®µ (Local)

**è§¦å‘æ—¶æœº**: `git commit`

åœ¨ä½ æäº¤ä»£ç æ—¶ï¼ŒHusky ä¼šè‡ªåŠ¨æ‹¦æˆªå¹¶æ‰§è¡Œä»¥ä¸‹æ£€æŸ¥ï¼š

- **Lint & Format**: è¿è¡Œ `lint-staged`ï¼Œè‡ªåŠ¨ä¿®å¤æš‚å­˜åŒºæ–‡ä»¶çš„ ESLint å’Œ Prettier é—®é¢˜ã€‚
- **Fast Test**: è¿è¡Œ `vitest related`ï¼Œåªæµ‹è¯•å—æœ¬æ¬¡æäº¤å½±å“çš„å•å…ƒæµ‹è¯•ï¼Œé€Ÿåº¦æå¿«ã€‚
- **Commit Check**: è¿è¡Œ `commitlint`ï¼Œç¡®ä¿æäº¤ä¿¡æ¯ç¬¦åˆè§„èŒƒã€‚

> **ğŸ’¡ æç¤º**: è¯·ä½¿ç”¨ `pnpm commit` å¯åŠ¨äº¤äº’å¼æäº¤å·¥å…·ï¼Œæˆ–éµå¾ª `feat:`, `fix:` ç­‰è§„èŒƒæ ¼å¼ã€‚

### 2. ğŸ”„ æå•åˆå¹¶é˜¶æ®µ (PR: Feature -> Develop)

**è§¦å‘æ—¶æœº**: åˆ›å»º/æ›´æ–° Pull Request

GitHub Actions ä¼šè¿è¡Œä»¥ä¸‹æ£€æŸ¥ï¼ˆBlockingï¼‰ï¼š

- **Build Check**: `npm run build` - ç¡®ä¿ä»£ç èƒ½æˆåŠŸæ‰“åŒ…ï¼Œæ— ç±»å‹é”™è¯¯ã€‚
- **Unit Test**: `vitest run` - è¿è¡Œå…¨é‡å•å…ƒæµ‹è¯•ï¼Œé˜²æ­¢é€»è¾‘å›å½’ã€‚
- **E2E Smoke**: `playwright test --grep @smoke` - åªè¿è¡Œå…³é”®è·¯å¾„æµ‹è¯•ï¼ˆå¦‚ç™»å½•ã€æ ¸å¿ƒä¸šåŠ¡ï¼‰ï¼Œå¿«é€Ÿåé¦ˆã€‚
- **ğŸ¤– AI Review**: AI Agent ä¼šæ‰«æå˜æ›´ä»£ç ï¼Œå¹¶åœ¨ PR ä¸­ç•™ä¸‹éé˜»å¡æ€§çš„æ”¹è¿›å»ºè®®ã€‚

### 3. ğŸš€ å‘å¸ƒå‡†å¤‡é˜¶æ®µ (PR: Develop -> Main)

**è§¦å‘æ—¶æœº**: åˆ›å»ºåˆå¹¶åˆ° Main çš„ PR

è¿™æ˜¯ä¸Šçº¿å‰çš„æœ€åä¸€é“é˜²çº¿ï¼š

- **Build & Unit Test**: å†æ¬¡ç¡®è®¤æ„å»ºå’Œé€»è¾‘æ— è¯¯ã€‚
- **Deploy to Staging**: ä»£ç è‡ªåŠ¨éƒ¨ç½²åˆ°é¢„å‘å¸ƒç¯å¢ƒ (Staging)ã€‚
- **Full E2E Test**: `playwright test` - é’ˆå¯¹ Staging ç¯å¢ƒè¿è¡Œå…¨é‡ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·æ“ä½œã€‚

### 4. âœ… æ­£å¼ä¸Šçº¿ (Merge to Main)

**è§¦å‘æ—¶æœº**: ä»£ç åˆå¹¶å…¥ Main åˆ†æ”¯

- **Deploy to Prod**: è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚
- **Live Smoke Test**: è¿è¡Œçº¿ä¸Šå·¡æ£€è„šæœ¬ï¼Œç¡®ä¿æœåŠ¡åœ¨ç”Ÿäº§ç¯å¢ƒæ­£å¸¸è¿è¡Œã€‚

---

## ğŸ›  å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨

| å‘½ä»¤                 | è¯´æ˜                             |
| :------------------- | :------------------------------- |
| `pnpm dev`           | å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨               |
| `pnpm build`         | æ„å»ºç”Ÿäº§ç‰ˆæœ¬                     |
| `pnpm commit`        | **æ¨è**ï¼šä½¿ç”¨äº¤äº’å¼å·¥å…·æäº¤ä»£ç  |
| `pnpm test`          | è¿è¡Œå•å…ƒæµ‹è¯• (Watch æ¨¡å¼)        |
| `pnpm test:run`      | è¿è¡Œä¸€æ¬¡å…¨é‡å•å…ƒæµ‹è¯• (CI æ¨¡å¼)   |
| `pnpm test:ui`       | æ‰“å¼€å¯è§†åŒ–çš„æµ‹è¯•æŠ¥å‘Šç•Œé¢         |
| `pnpm test:coverage` | ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š               |
| `pnpm lint`          | æ£€æŸ¥ä»£ç é£æ ¼                     |

## ğŸ“ æäº¤ä¿¡æ¯è§„èŒƒ (Commit Convention)

æˆ‘ä»¬éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

- `feat`: æ–°å¢åŠŸèƒ½
- `fix`: ä¿®å¤ Bug
- `docs`: æ–‡æ¡£å˜æ›´
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: ä»£ç é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

**ç¤ºä¾‹**: `feat(auth): add login page support`
